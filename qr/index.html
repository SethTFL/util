<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<script src="qr.js"></script>
<style>
body
{
    text-align:center;
    margin:100px;
}
input, svg
{
    display:inline-block;
    box-sizing:border-box;
    width:500px;
    margin:0 auto;
}
input
{
    margin-bottom:20px;
    font-size:25px;
    padding:5px;
}
svg
{
    height:500px;
}
</style>
</head>
<body>
<input id="input" value="http://tfl.org/qr-"/>
<br>
<svg><g id="output"/></svg>
<script>
let domInput = document.querySelector("input");
let domOutput = document.querySelector("g");
let qrCode = new QRCode(domOutput, {width : 100, height : 100, useSVG: true});
let qrCodeCreate = () => qrCode.makeCode(domInput.value);
domInput.addEventListener("blur", qrCodeCreate);
domInput.addEventListener("keyup", qrCodeCreate);
if(window.location.search)
{
    qrCode.makeCode(window.location.search.substring(1));
    domInput.remove();
}
else
{
    qrCodeCreate();
}
</script>
</body>
</html>
